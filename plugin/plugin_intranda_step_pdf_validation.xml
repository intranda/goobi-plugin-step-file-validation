<config_plugin>
	<!-- order of configuration is: 1.) project name and step name matches 2.) 
		step name matches and project is * 3.) project name matches and step name 
		is * 4.) project name and step name are * -->

	<config>
		<!-- which projects to use for (can be more then one, otherwise use *) -->
		<project>*</project>
		<step>*</step>
		<folder>Folder with PDF</folder>
		<fileFilter>\.pdf$</fileFilter>
		<profile>testprofile</profile>
		<success>2</success>
		<stepOnError>Upload</stepOnError>
	</config>
	
	<global>
	<profile name="testprofile" >
			<level>
				<check name="checkVersion"
					tool="jhove" 
					code="errorCode" 
					xpathSelector="count(//jhove:repInfo/jhove:format)"
					regEx="^1\.[012456]$|^2\.0$" 
				/>
			</level>
			<level>
				<check name="jhove validation"
					tool="jhove" 
					code="validation_failed" 
					xpathSelector="//jhove:repInfo/jhove:status"
					regEx="Well-Formed and valid" 
				/>
			</level>
			<level>
				<check name="pdf-a validation"
					tool="verapdf" 
					code="pdfa_validation_failed" 
					xpathSelector="xpathSelector"
					regEx="regEx" 
				/>
			</level>
		</profile>
		<tools>
			<tool name="verapdf" cmd="java -Dapp.home=&#34;/opt/digiverso/pdf/verapdf &#34; -jar verapdf.jar --format xml -f {pv.filename}" stdout="true" />
			<tool name="jhove" cmd="/opt/digiverso/pdf/jhove/jhove -h XML -m PDF-hul -o {pv.outputpath} {pv.filename}" stdout="true" />
			<!-- for tools that need the path of the outputfile {pv.outputFilename} -->
		</tools>
	</global>
</config_plugin>
